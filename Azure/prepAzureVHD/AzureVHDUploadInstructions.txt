
#resource group name: soccerl-rs3 
#storage account name:soccerlstorage
#storage container name:rs3container 
#blob name: AzureWindowsRS3.vhd
#disk name:rs3disk

az login
az account set WDG-BC-PM-Customer-Demo
az account set --subscription WDG-BC-PM-Customer-Demo

az group create --name soccerl-rs3 --location westus2
az storage account create --resource-group soccerl-rs3 --location westus2 --name soccerlstorage --kind Storage --sku Standard_LRS

## Get the value of the account-key (key1) from the following for use in the later commands        
C:\OSImages>az storage account keys list --resource-group soccerl-rs3 --account-name soccerlstorage
[
  {
    "keyName": "key1",
    "permissions": "Full",
    "value": "I/lwrXa582/7ffAJ1XX5noaNDw23Uh3YmXfnI1JR0ivcfHd9pXZ2ktktaq0nAlP8DHy6xdM7vod7gHBOPr9ymw=="
  },
  {
    "keyName": "key2",
    "permissions": "Full",
    "value": "TtupCz96vmfi42a6iTbEl8nwsN3o8thS3aBnSgCBkYNchJ+OFrHsTsVE1loeCggcSdRhPdEBMh1bAU+5GXOtHw=="
  }
]

C:\OSImages>

az storage container create -n rs3container --account-name soccerlstorage --account-key "I/lwrXa582/7ffAJ1XX5noaNDw23Uh3YmXfnI1JR0ivcfHd9pXZ2ktktaq0nAlP8DHy6xdM7vod7gHBOPr9ymw=="


az storage blob upload --account-name soccerlstorage --account-key "I/lwrXa582/7ffAJ1XX5noaNDw23Uh3YmXfnI1JR0ivcfHd9pXZ2ktktaq0nAlP8DHy6xdM7vod7gHBOPr9ymw==" --container-name rs3container --type page --file ./AzureWindowsRS3.vhd --name AzureWindowsRS3.vhd

az storage blob url    --account-name soccerlstorage --account-key "I/lwrXa582/7ffAJ1XX5noaNDw23Uh3YmXfnI1JR0ivcfHd9pXZ2ktktaq0nAlP8DHy6xdM7vod7gHBOPr9ymw==" --container-name rs3container --name AzureWindowsRS3.vhd

az disk create --resource-group soccerl-rs3 --name wrs3disk --source "https://soccerlstorage.blob.core.windows.net/rs3container/AzureWindowsRS3.vhd"

az vm create --resource-group soccerl-rs3  --location westus2 --name wrs3vm --os-type windows --attach-os-disk wrs3disk
# --size standard_d2_v3
#--storage-sku {Premium_LRS, Standard_GRS, Standard_LRS

# Get public IP returned
mstsc.exe /v:52.229.32.219 &
